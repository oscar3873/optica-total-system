
<div class="container py-4">


  {% include 'core/components/messages.html' %}
  
  <!-- ===============================================-->
  <!--    Fin Errores de Sistema (Backend)-->
  <!-- ===============================================-->




  <!-- ===============================================-->
  <!--    Card con la presentacion de la caja-->
  <!-- ===============================================-->

  {% if user %}
  <div class="col-lg-6 col-xl-12 col-xxl-6 h-100">
    <div class="card mb-3">
        <div class="row g-3 mb-3">
            <div class="col-xxl-4 col-md-6 ">
              <div class = "ml-4">
                <div class="card-header position-relative min-vh-25 mb-7 ">
                  <div class="bg-holder rounded-3 rounded-bottom-0" style="background-image:url(../../assets/img/generic/4.jpg);">
                  </div>
                  <!--/.bg-holder-->
                  
                  <div class="avatar avatar-5xl avatar-profile">
                      <img class="rounded-circle img-thumbnail shadow-sm" id="profile-image-preview" src="{{ user.imagen.url }}" width="200" alt="Imagen del empleado/admin" />
                    <label for="id_imagen" class="rounded-circle custom-file-upload">
                      Cambiar Foto
                    </label>
                  </div>
              </div>
            </div>
            <form method="post" id="profile-image-form" enctype="multipart/form-data">
              {% csrf_token %}
              <div hidden>
                {{ change_image.imagen }}
              </div>
              <div id="profile-image-buttons" style="display: none;">
                  <button class="btn btn-primary" type="submit">Guardar</button>
                  <button class="btn btn-danger" type="button" id="cancel-img-button">Cancelar</button>
              </div>
            </form>
        </div>
         
            
            <div class="col-12 col-sm-6">
              <div class="h-100 mt-4">
                <div class="card-body d-flex flex-center flex-column">
                  <!-- Find the JS file for the following chart at: src/js/charts/echarts/bandwidth-saved.js-->
                  <!-- If you are not using gulp based workflow, you can find the transpiled code at: public/assets/js/theme.js-->
                  <div class="echart-bandwidth-saved" data-echart-responsive="true"></div>
                  <div class="text-center mt-3">
                    <h6 class="fs-0 mb-1"><span class="fas fa-check text-success me-1" data-fa-transform="shrink-2"></span></h6>
                    <p class="fs--1 mb-0"></p>
                  </div>
                </div>
                
              </div>
            </div>
            
        </div>
    </div>

    <div class="card-body">
        <div class="row">
          <div class="col-lg-8">
            <h4 class="mb-1"> {{user}}<span data-bs-toggle="tooltip" data-bs-placement="right" title="Verified"><small class="fa fa-check-circle text-primary" data-fa-transform="shrink-4 down-2"></small></span>
            </h4>
            <h5 class="fs-0 fw-normal">Empleado de Optica Total</h5>
            <p class="text-500">{{user.email}}</p>
            
            <div class="border-dashed-bottom my-4 d-lg-none"></div>
          </div>
        </div>
    </div>
    <div class="row g-0 ">
      <div class="col-12 col-lg-8 pe-lg-2">
        <div class="card mb-3">
          <div class="card-header bg-light">
            <h5 class="mb-0">Intro</h5>
          </div>
						<div class="card theme-wizard h-100 mb-5 ">
							<!-- Card body -->
<<<<<<< Updated upstream
							<div class="card-body py-4" id="wizard-controller">
					
								<form method="post"  id="singup-employee" class="row g-3 " novalidate>
									{% csrf_token %}
									<div class="tab-content">
					
											<div class="row">
													<div class="col">
														<label for="{{ form.first_name.id_for_label }}" class="form-label">Nombre:</label>
														{{form.first_name}}
														{% if form.first_name.errors %}
														<div class="text-danger fs--2">
															Este campo es obligatorio.
														</div>
														{% endif %}
													</div>
													<div class="col">
														<label for="{{ form.last_name.id_for_label }}" class="form-label">Apellido:</label>
														{{form.last_name}}
														{% if form.last_name.errors %}
														<div class="text-danger fs--2">
															Este campo es obligatorio.
														</div>
														{% endif %}
													</div>
											</div>
											<div class="row pt-3">
												<div class="col">
													<label for="{{ form.dni.id_for_label }}" class="form-label">DNI:</label>
													{{form.dni}}
													{% if form.dni.errors %}
													<div class="text-danger fs--2">
														Este campo es obligatorio.
													</div>
													{% endif %}
												</div>
												<div class="col">
													<label for="{{ form.phone_number.id_for_label }}" class="form-label">Celular:</label>
													{{form.phone_number}}
													{% if form.phone_number.errors %}
													<div class="text-danger fs--2">
														Este campo es obligatorio.
													</div>
													{% endif %}
												</div>
											</div>
											<label for="{{ form.address.id_for_label }}" class="form-label pt-3">Domicilio:</label>
											{{form.address}}
											{% if form.address.errors %}
											<div class="text-danger fs--2">
												Este campo es obligatorio.
											</div>
											{% endif %}
											<div class="row">
												<div class="col">
													<label for="{{ form.email.id_for_label }}" class="form-label ">Correo</label>
													{{form.email}}
													{% if form.email.errors %}
													<div class="text-danger fs--2">
														Este campo es obligatorio.
													</div>
													{% endif %}
												</div>
											</div>
											<button
												class="btn btn-warning px-5 px-sm-6" type="submit" name="submit-button">Finalizar<span class="fas fa-chevron-right ms-2"
													data-fa-transform="shrink-3">
												</span>
											</button>
									</div>
								</form>
							</div>
							</div>
						</div>
            {% comment %} <p class="mb-0 text-1000">Dedicated, passionate, and accomplished Full Stack Developer with 9+ years of progressive experience working as an Independent Contractor for Google and developing and growing my educational social network that helps others learn programming, web design, game development, networking.</p>
            <div class="collapse show" id="profile-intro">
              <p class="mt-3 text-1000">I’ve acquired a wide depth of knowledge and expertise in using my technical skills in programming, computer science, software development, and mobile app development to developing solutions to help organizations increase productivity, and accelerate business performance. </p>
              <p class="text-1000">It’s great that we live in an age where we can share so much with technology but I’m but I’m ready for the next phase of my career, with a healthy balance between the virtual world and a workplace where I help others face-to-face.</p>
              <p class="text-1000 mb-0">There’s always something new to learn, especially in IT-related fields. People like working with me because I can explain technology to everyone, from staff to executives who need me to tie together the details and the big picture. I can also implement the technologies that successful projects need.</p>
            </div> {% endcomment %}
          {% comment %} </div> {% endcomment %}
          <div class="card-footer bg-light p-0 border-top">
            <button class="btn btn-link d-block w-100 btn-intro-collapse" type="button" data-bs-toggle="collapse" data-bs-target="#profile-intro" aria-expanded="true" aria-controls="profile-intro">Show <span class="less">less<span class="fas fa-chevron-up ms-2 fs--2"></span></span><span class="full">full<span class="fas fa-chevron-down ms-2 fs--2"></span></span></button>
          </div>
=======
                <div class="card-body py-2" id="wizard-controller">
                  <div class="row">
                    <form method="post" action="{% url 'employees_app:update_user_info' user.employee.pk %}" id="singup-employee" class="row g-3 update-form " novalidate>
                      {% csrf_token %}
                      <div class="tab-content">
                          <div class="row">
                              <div class="col-12 col-sm-6">
                                <label for="{{ form.first_name.id_for_label }}" class="form-label">Nombre:</label>
                                
                                    {{ form.first_name }}
  
                                {% if form.first_name.errors %}
                                <div class="text-danger fs--2">
                                  Este campo es obligatorio.
                                </div>
                                {% endif %}
                              </div>
                              <div class="col-12 col-sm-6">
                                <label for="{{ form.last_name.id_for_label }}" class="form-label">Apellido:</label>
                                    {{ form.last_name }}
  
                                {% if form.last_name.errors %}
                                <div class="text-danger fs--2">
                                  Este campo es obligatorio.
                                </div>
                                {% endif %}
                              </div>
                          </div>
                          <div class="row">
                            <div class="col-12">
                              <label for="{{ form.dni.id_for_label }}" class="form-label">DNI:</label>
                              
                                {{ form.dni }}
                              {% if form.dni.errors %}
                              <div class="text-danger fs--2">
                                Este campo es obligatorio.
                              </div>
                              {% endif %}
                            </div> 
                            <div class="col-12 col-sm-3">
                              <label for="{{ form.phone_code.id_for_label }}" class="form-label">Codigo de pais:</label>
                              
                                  {{ form.phone_code }}
  
                              {% if form.phone_code.errors %}
                              <div class="text-danger fs--2">
                                Este campo es obligatorio.
                              </div>
                              {% endif %}
                            </div>
                            <div class="col-12 col-sm">
                              <label for="{{ form.phone_number.id_for_label }}" class="form-label">Celular:</label>
                                {{ form.phone_number }}
  
                              {% if form.phone_number.errors %}
                              <div class="text-danger fs--2">
                                Este campo es obligatorio.
                              </div>
                              {% endif %}
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-12">
                              <label for="{{ form.address.id_for_label }}" class="form-label pt-3">Domicilio:</label>
                              {{ form.address }}
                              {% if form.address.errors %}
                              <div class="text-danger fs--2">
                                Este campo es obligatorio.
                              </div>
                              {% endif %}
                            </div>
                            <div class="col-12">
                              <label for="{{ form.email.id_for_label }}" class="form-label ">Correo</label>
                                {{ form.email }}
  
                              {% if form.email.errors %}
                              <div class="text-danger fs--2">
                                Este campo es obligatorio.
                              </div>
                              {% endif %}
                            </div>
                          </div>
                          <div class="mt-4 mb-2 text-center ">
                            <button class="btn btn-warning px-2 " type="submit" name="submit-button">Guardar Cambios</button>
                            <button class="btn btn-secondary px-5 " type="button" onclick="cancelEdit()">Cancelar</button>
                            <button class="btn btn-primary px-5" type="button" onclick="enableEdit()">Editar</button>
                          </div>
                          <input type="hidden" name="is_editable" value="{{ is_editable }}">
                        
                      </div>
                    </form>

                  </div>
                </div>
            </div>
>>>>>>> Stashed changes
        </div>
      </div>
        <div class="col-lg-4 ps-lg-2">
          <div class="sticky-sidebar">
            <div class="card mb-3">
              <div class="card-header bg-light">
                <h5 class="mb-0">Cambiar Contraseña</h5>
              </div>
              <div class="card-body fs--1">
                <form method="post" action="{% url 'employees_app:update_password' user.employee.pk %}" id="password-form" class="row g-2" novalidate>
                  {% csrf_token %}
                  <label for="{{ form.passwordCurrent.id_for_label }}" class="form-label">Contraseña Actual:</label>
                  {{ form2.passwordCurrent }}
                  {% if form2.passwordCurrent.errors %}
                    <div class="text-danger fs--2">
                      Este campo es obligatorio.
                    </div>
                  {% endif %}
                    
                    
                  <div id="password-error-message" class="text-danger"></div>

                  <label for="{{ form.password.id_for_label }}" class="form-label">Ingrese nueva contraseña:</label>
                  {{ form2.password }}
                  {% if form2.password.errors %}
                    <div class="text-danger fs--2">
                      Este campo es obligatorio.
                    </div>
                  {% endif %}
                
                  <label for="{{ form.password2.id_for_label }}" class="form-label">Repita la nueva contraseña:</label>
                                  
                  {{ form2.password2 }}
                  {% if form2.password2.errors %}
                    <div class="text-danger fs--2">
                      Este campo es obligatorio.
                    </div>
                  {% endif %}
                  <input type="hidden" name="change_password_form" value="True">
                  
                  <div class="mt-4 mb-2 text-center ">
                    <button class="btn btn-warning px-2" type="submit" name="submit-button" form="password-form">Cambiar contraseña<span class="fas fa-chevron-right ms-2"
                        data-fa-transform="shrink-3">
                    </button>
                  </div>
              </form>
              </div>
            </div>
          </div>
        </div>
    </div>
      
  </div>


	{% else %}
  <div class="card mb-3">
      
    <div class="row g-3 mb-3">
        <div class="col-xxl-4 col-md-6 ">
          <div class = "ml-4">
            <div class="card-header position-relative min-vh-25 mb-7 ">
              <div class="bg-holder rounded-3 rounded-bottom-0" style="background-image:url(../../assets/img/generic/4.jpg);">
              </div>
              <!--/.bg-holder-->
              
              <div class="avatar avatar-5xl avatar-profile "><img class="rounded-circle img-thumbnail shadow-sm" src="../../assets/img/team/2.jpg" width="200" alt="Imagen del empleado/admin" /></div>
            </div>

          </div>
        </div>
        
    </div>
  </div>
  <div class="col-lg-6 col-xl-12 col-xxl-6 h-100">
		<!--Card-->
		<div class="card bg-transparent-50 overflow-hidden">
			<div class="card-header position-relative">
				<div class="bg-holder d-none d-md-block bg-card z-index-1"
					style="background-image:url(../assets/img/illustrations/ecommerce-bg.png);background-size:230px;background-position:right bottom;z-index:-1;">
				</div>
				<!--/.bg-holder-->

				<div class="position-relative z-index-2">
					<div>
						<h3 class="text-primary mb-1">El empleado no existe</h3>
					</div>
					<div class="card-footer">
            <a class="btn btn-success d-block w-25 mx-5 mt-4 rounded" href="{% url 'employees_app:new_employee' %}">Nuevo Empleado</a>
          </div>
				</div>
			</div>
			
    </div>
  </div>
  {% endif %}
  
  <!-- ===============================================-->
  <!--    Fin Contentenedor del block main-->
  <!-- ===============================================-->
</div>

<!-- ===============================================-->
<!--   Fin Card con la presentacion de la caja-->
<!-- ===============================================-->
<!-- <form method="post" class="row g-3 needs-validation" novalidate> -->