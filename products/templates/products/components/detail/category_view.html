{% load static %}
{% load humanize %}
<!-- ===============================================-->
<!--    Contenedor del bloque principal-->
<!-- ===============================================-->

<div class="container py-4">

  <!-- ===============================================-->
  <!--    Errores del sistema (Backend)-->
  <!-- ===============================================-->

  {% include 'core/components/messages.html' %}

  <!-- ===============================================-->
  <!--    Fin Errores del sistema (Backend)-->
  <!-- ===============================================-->

  <div class="col-12 h-100">
    <!-- Título del formulario wizard -->
    <div class="d-flex mb-4">
      <span class="fa-stack me-2 ms-n1">
        <i class="fas fa-circle fa-stack-2x text-300"></i>
        <i class="fa-inverse fa-stack-1x text-primary fab fa-dropbox"></i>
      </span>
      <div class="col">
        <h5 class="mb-0 text-primary position-relative">
          <span class="bg-200 dark__bg-1100 pe-3">Categoría</span>
          <span class="border position-absolute top-50 translate-middle-y w-100 start-0 z-index--1"></span>
        </h5>
        <p class="mb-0">Aquí puede visualizar el detalle completo de una categoría</p>
      </div>
    </div>
  </div>

  <!-- ===============================================-->
  <!--    Card con la presentación de la categoría-->
  <!-- ===============================================-->

  {% if category %}
  <div class="col-12 h-100">
    <!--Card-->
    <div class="card mb-3">
      <div class="card-header bg-light">
        <div class="row pb-md-0">
          <div class="col-12 col-sm-6">
            <h5 class="mb-2">{{category.name}}</h5>
            <p class="text-700 fs--2">{{category.user_made}}</p>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col">
            {% if category %}
              {% if  request.user.is_staff %}
                <a class="btn btn-falcon-default btn-sm" href="{% url 'products_app:new_product' %}">
                  <span class="fas fa-plus fs--2 me-1"></span>
                  Nueva Categoría
                </a>
                <button class="btn btn-falcon-default btn-sm dropdown-toggle ms-2 dropdown-caret-none" type="button"
                  data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="fas fa-ellipsis-h"></span>
                </button>
                <div class="dropdown-menu">
                  <a class="dropdown-item" href="{% url 'products_app:update_category' pk=category.pk %}">Editar</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item text-danger" href="{% url 'products_app:category_delete' pk=category.pk %}">Eliminar</a>
                </div>
                {% endif %}
            {% endif %}
          </div>
        </div>
      </div>
      <div class="card-body border-top">            
        <div class="row">
          <div class="col-lg-6 mb-3 mb-sm-0">
            <div class="row">
              <div class="col-12">
                <h5 class="mb-3">Datos de la categoría</h5>
              </div>
              <div class="col-12 d-flex justify-content-between">
                <p class="fw-normal fw-semi-bold mb-1">Nombre:</p>
                <span class="ms-3 text-800 fw-bold">{{category.name}}</span>
              </div>
              <div class="col-12 pt-1 pt-sm-0 d-flex justify-content-between">
                <p class="fw-normal fw-semi-bold mb-1">Creado por:</p>
                <span class="ms-3 text-800 fw-bold">{{category.user_made}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>      
    </div>
  </div>
  {% else %}
  <div class="col-12 h-100">
    <!--Card-->
    <div class="card bg-transparent-50 overflow-hidden">
      <div class="card-header position-relative">
        <div class="bg-holder d-none d-md-block bg-card z-index-1"
          style="background-image:url(../assets/img/illustrations/ecommerce-bg.png);background-size:230px;background-position:right bottom;z-index:-1;">
        </div>
        <!--/.bg-holder-->

        <div class="position-relative z-index-2">
          <div>
            <h3 class="text-700 mb-1">No hay una categoría</h3>
          </div>
          <div class="d-flex py-3">
          </div>
        </div>
      </div>
      <div class="card-footer">
        <a class="btn btn-success d-block w-25 mx-5 mt-4 rounded" href="{% url 'products_app:new_category' %}">Nueva categoría</a>
      </div>
    </div>
  </div>
  {% endif %}
</div>

<!-- ===============================================-->
<!--   Fin Card con la presentación de la categoría-->
<!-- ===============================================-->

<!-- ===============================================-->
<!--    Fin Contenedor del bloque principal-->
<!-- ===============================================-->
